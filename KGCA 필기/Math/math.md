# Math

## 용어 정의
  * 직선(line)   : 무한히 두 점의 양방향으로 뻗어나가는 점
  * 반 직선(ray) : 한쪽 끝이 있고, 다른 한쪽은 한없이 연장
  * 에지(edge)   : 두 점이 양쪽 끝점인 선분
</br></br>

## 내분, 외분
  * 내분 : 두 점을 잇는 선분을 내부에서 나누는 점
    * 직선을 m,n으로 내분하는 점의 좌표 : m * x_2 + m * x_1 / m + n
  * 외분 : 두 점을 잇는 선분을 외부에서 나누는 점
    * 직선을 m,n으로 외분하는 점의 좌표 : m * x_2 - m * x_1 / m - n
</br></br>

## 직선의 방정식
  * y - y_1 = m(x - x_1)
  * y = m(x - x_1) + y_1
</br></br>

## Radian
  * 1 radian = 180 / PI\
  * 1 degree = PI / 180
</br></br>

## 삼각함수
  * #### x = 밑변, y = 높이, r = 빗변
  * sin = y / r &nbsp;&nbsp; csc = r / y = 1 / sin     
  * cos = x / r &nbsp;       sec = r / x = 1 / cos
  * tan = y / x &nbsp;       cot = x / y = 1 / tan
</br></br>

## Sin 법칙
  * 평면상의 삼각형의 변의 길이는 대각의 사인 값에 비례한다.
  * a / sinA = b / sinB = c / sinC = 2R
  * *a = 2R * sinA, b = 2R * sinB, c = 2R * sinC*
</br></br>

## 코사인 법칙
  * ###  제 1 코사인 법칙
    * 3개의 사이 각 중에서 30, 45, 60도 와 같은 특수 각이 아닐 때 마주보는 변의 길이를 구할 때 사용
      * a = b cos(C) + c cos(B) 
      * b = c cos(A) + a cos(C)
      * c = a cos(B) + b cos(A)
  * ### 제 2 코사인 법칙
    * 제 1 코사인 법칙으로부터 변형되어 만들어진 것으로 다음 경우에 사용
      1. 두 변과 그 사이의 각을 알 때 사이각이 마주보고 있는 대변의 길이를 얻을 수 있음
      2. 세 변의 길이를 알고 있을 때 모든 각을 얻을 수 있음
      
      * a^2 = b^2 + c^2 - 2bc cos(A)
      * b^2 = c^2 + a^2 - 2ca cos(B)
      * c^2 = a^2 + b^2 - 2ab cos(C)
</br></br>


## 2D Rotation
  * ### 회전 공식 
    * Q_x = P_x * cos(theta) - P_y * sin(theta) => 점 x를 회전한 결과
    * Q_y = P_x * sin(theta) + P_y * cos(theta) => 점 y를 회전한 결과
    * 2차원 회전 공식은 삼각함수의 덧샘 정리에 의해 단축된 식이다.
      * cos(A + B) = cosA cosB - sinA sinB
      * sin(A + B) = sinA cosB + cosA sinB = cosA sinB + sinA cosB (덧샘이니 교환 법칙 성립)
      * 여기서 cos A = P_x, sin A = P_y 로 치환하면 회전 공식이 나온다.  
        왜냐하면 점P는 원점에서 A만큼 회전한 점으로 치환가능하기 때문이다.
</br></br>


## Vector
  * ### 내적
    * 두 백터 A, B가 있을 때, 두 백터의 내적은 A (dot) B = |A| * |B| * cos(theta) 이다.
    * A (dot) B = A_x * B_x + A_y * B_y + A_z * B_z
    * *내적은 다음처럼 활용된다*
      * 두 벡터의 사이각을 얻기 위해 활용
      * 두 벡터를 분해하여 수직 및 평행한 벡터를 얻기 위해 활용
      * 두 벡터가 가리키는 방향의 차이를 알기 위해서 활용
    * 내적은 게임에서 사용되는 핵심적인 연산 중 1개이다.
  
  * #### 사이각 얻기
    * 두 벡터의 내적을 이용하여 사이각을 구할 수 있다.
      * cos(theta) = A (dot) B / |A| * |B|
      * theta = arccos(A (dot) B / |A| * |B|)
    * 이를 이용해 빛의 투사량을 계산이 가능하다.
  
  * #### 벡터의 투영(projection)
    * 원점 O 에서 시작하는 벡터 X, Y 에서  Y 의 끝에서 수직으로 벡터 X 로 수선의 발을 내렸을때  
    O에서 X로 내린 수선의 발까지의 벡터 P 를 벡터 Y의 벡터 X 에 대한 투영(정사영)이라고 한다.  
    또한 직각 삼각형의 높이에 해당하는 벡터 W를 Y-P를 이용해 만들 수 있다.
      * P = (Y (dot) X) / |X|^2 * X  
        P = (Y (dot) X) * X => (if X is not Nomal Vec => because |X|^2 = |X| (dot) |X|)
      * W = Y - P = Y - (Y (dot) X) / |X|^2 * X
    * 이를 이용해 점과 벡터 사이의 거리 및 그림자 투영등이 가능하다.

  * #### 두 벡터가 가리키는 방향의 차이
    * 두 벡터가 가리키는 방향의 차이를 알기 위해서는 두 벡터의 내적을 이용한다.  
      두 벡터의 내적 결과가 
      * A (dot) B > 0 : 예각
      * A (dot) B = 0 : 직각
      * A (dot) B < 0 : 둔각이 된다.
    * 이는 두 벡터가 단위 벡터인 경우 A (dot) B = cos(theta) 이기 때문이다.
    * 이를 이용해 대상이 앞에 있는지 뒤에 있는지 알 수 있다.
</br></br>

  * ### 외적 
    * 두 벡터 A, B가 있을 때, 두 벡터의 외적은 A (cross) B는  
      (A_y * B_z - A_z * B_y, A_z * B_x - A_x * B_z, A_x * B_y - A_y * B_x) 이다.
    * 외적의 연산은 분배 법칙이 성립 하지만 교환 법칙과 결합 법칙은 성립하지 않는다.
    * 외적의 결과는 두 벡터에 수직인 벡터가 된다. 또한 결과 벡터의 크기는  
      두 벡터가 이루는 평행 사변형의 넓이가 된다.

  * ### 평면의 방정식
    * 평면의 방정식을 이용해 어떤 한점이 이 평면상에 위치한 점인지 알 수 있다.
      * 평면의 방정식 : Ax + By + Cz + D = 0
      * A, B, C : 평면의 법선 벡터의 각 성분, x, y, z : 평면상에 존재한는 점
    * 평면 벡터 방정식
      * Ax + By + Cz = D => (A, B, C) (dot) (x, y, z) = -D
</br></br>

## 행렬
  * 괄호 안에 직사각형 및 정사각형 꼴로 수를 배열한 것  
    이때 행렬의 가로줄을 행, 세로 줄을 열이라 한다.
  * ### 단위 행렬
    * 주 대각선이 전부 1이고, 나머지 원소는 0을 값으로 가지는 행렬
  * ### 전치 행렬
    * 행렬의 행과 열을 바꾼 행렬 => (A_ij)^T = A_ji
    * 크기가 같은 행렬 A,B 와 스칼라 a 일때 전치 행렬을 다음과 같은 특성을 같는다.
      * (A^T)^T = A
      * (A + B)^T = A^T + B^T
      * (A - B)^T = A^T - B^T
      * *(aA)^T = aA^T*
      * *(AB)^T = B^T A^T*
  * ### 역 행렬
    * 정사각 행렬 A에 대해 AB = BA = I 를 만족하는 행렬 B를 A의 역행렬이라 한다.  
      A^-1로 나타내며 역 행렬이란 어떤 행렬의 곱셈에 대한 역원이다.
    * 만약 A 행렬이 직교 행렬(2축의 외적 결과가 나머지 축과 같은 행렬)이라면  
      A^-1 = A^T 이다.(이동 행렬인 경우에는 성립하지 않는다.)
    * 역행렬은 무조건 존재하는 것이 아니다. (행렬식의 결과가 0이 아니여야 존재)
  * ### 행렬식
    * #### 사러스 법칙
      * 3x3 이하의 크기의 행렬의 행렬식을 구할 때 사용하는 방법
    * #### 소행렬식
      * 모든 크기의 행렬의 행렬식을 구할 때 사용하는 방법
      * 정사각 행렬 A의 임의의 원소 A_ij에 대해 A_ij를 제외한 나머지 원소로 이루어진  
        (n-1)x(n-1) 행렬을 A_ij의 소행렬식이라 한다.
      * 여인수 : 그 원소의 소행렬식에 부호를 붙인 것
  * ### 크래머 공식
    * 선형 연립 방정식의 해를 행렬식으로 표현하는 선형대 수학의 정리
  * ### 행렬의 속성
    V = (a, b, c)

    ||X_1|Y_1|Z_1|           
    |---|---|---|---|  
    | X_2 | 1 | 1/2 | 0 |  
    | Y_2 | 1/2 | 1 | 0 |  
    | Z_2 | 0 | 0 | 1 |  
    
    행렬에서 열은 변경할 축을 의미하고 행은 축에 변경을 가할때 사용할 값을 의미한다.

    즉 V와 위의 행렬을 결합하면 a에 대해 a * 1, b * 1/2만큼 변경하고  
    b에 대해 a * 1/2, b * 1만큼 변경한다는 뜻이다 